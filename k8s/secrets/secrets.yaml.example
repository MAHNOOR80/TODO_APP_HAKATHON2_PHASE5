# Kubernetes Secret Template for Todo Application
# Copy this file to secrets.yaml and fill in the base64-encoded values
# DO NOT commit secrets.yaml to version control
#
# To base64 encode a value:
#   echo -n 'your-value' | base64
#
# Alternatively, create the secrets directly with kubectl:
#   kubectl create secret generic todo-app-secrets \
#     --from-literal=DATABASE_URL='postgresql://...' \
#     --from-literal=AUTH_SECRET='your-secret' \
#     --from-literal=OPENAI_API_KEY='sk-...' \
#     -n todo-app
#
#   kubectl create secret generic kafka-creds \
#     --from-literal=username='kafka-user' \
#     --from-literal=password='kafka-password' \
#     --from-literal=brokers='broker1:9093,broker2:9093' \
#     -n todo-app

---
# Application secrets (backend + ai-agent)
apiVersion: v1
kind: Secret
metadata:
  name: todo-app-secrets
  namespace: todo-app
  labels:
    app.kubernetes.io/name: todo-app
    app.kubernetes.io/part-of: todo-application
type: Opaque
data:
  # PostgreSQL connection string (base64 encoded)
  # Example: postgresql://user:password@host:5432/database?sslmode=require
  DATABASE_URL: <base64-encoded-database-url>

  # Better Auth secret key (base64 encoded)
  # Generate with: openssl rand -base64 32
  AUTH_SECRET: <base64-encoded-auth-secret>

  # OpenAI API key (base64 encoded)
  # Format: sk-...
  OPENAI_API_KEY: <base64-encoded-openai-api-key>

---
# Kafka credentials (for Dapr pubsub-kafka component)
apiVersion: v1
kind: Secret
metadata:
  name: kafka-creds
  namespace: todo-app
  labels:
    app.kubernetes.io/name: todo-app
    app.kubernetes.io/part-of: todo-application
type: Opaque
data:
  # Kafka SASL username (base64 encoded)
  username: <base64-encoded-kafka-username>

  # Kafka SASL password (base64 encoded)
  password: <base64-encoded-kafka-password>

  # Kafka broker addresses (base64 encoded)
  # Format: broker1:9093,broker2:9093
  brokers: <base64-encoded-kafka-brokers>
